{"ast":null,"code":"import _slicedToArray from\"C:/Users/Dell/Desktop/Project (greetgo)/Done/Digital School (React,MySql,node js)/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import\"../App.css\";import React from\"react\";import Axios from\"axios\";import{useState}from\"react\";import{useEffect,useRef}from\"react\";import{Link}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var StudentList=function StudentList(){var ref=useRef(null);var _useState=useState([]),_useState2=_slicedToArray(_useState,2),studentList=_useState2[0],setStudentList=_useState2[1];var getStudents=function getStudents(){Axios.get(\"http://localhost:3001/students\").then(function(response){setStudentList(response.data);});};var deleteStudent=function deleteStudent(id){Axios.delete(\"http://localhost:3001/delete/\".concat(id)).then(function(response){setStudentList(studentList.filter(function(val){return val.id!==id;}));});};useEffect(function(){setTimeout(function(){ref.current.click();},0);},[]);return/*#__PURE__*/_jsxs(\"div\",{className:\"information list\",children:[/*#__PURE__*/_jsx(Link,{to:\"/\",children:/*#__PURE__*/_jsx(\"button\",{id:\"logout\",children:\"logout\"})}),/*#__PURE__*/_jsx(\"h1\",{children:\"List of Students\"}),/*#__PURE__*/_jsxs(\"table\",{children:[/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"id\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Name\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Surname\"}),/*#__PURE__*/_jsx(\"th\",{children:\"midterm(Pk-1)\"}),/*#__PURE__*/_jsx(\"th\",{children:\"enterm(Pk-2)\"}),/*#__PURE__*/_jsx(\"th\",{children:\"final\"}),/*#__PURE__*/_jsx(\"th\",{children:\"gpa\"})]}),studentList.map(function(val,key){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:val.id}),/*#__PURE__*/_jsx(\"td\",{children:val.name}),/*#__PURE__*/_jsx(\"td\",{children:val.surname}),/*#__PURE__*/_jsxs(\"td\",{children:[val.midterm,\"%\"]}),/*#__PURE__*/_jsxs(\"td\",{children:[val.endterm,\"%\"]}),/*#__PURE__*/_jsxs(\"td\",{children:[val.final,\"%\"]}),/*#__PURE__*/_jsx(\"td\",{children:val.gpa}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){deleteStudent(val.id);},children:\"Delete\"})})]});})]}),/*#__PURE__*/_jsx(\"button\",{ref:ref,onClick:getStudents,class:\"hidden\"}),/*#__PURE__*/_jsx(Link,{to:\"/add-student\",children:/*#__PURE__*/_jsx(\"button\",{children:\"Add new Student\"})})]});};export default StudentList;","map":{"version":3,"sources":["C:/Users/Dell/Desktop/Project (greetgo)/Done/Digital School (React,MySql,node js)/client/src/pages/student-list.jsx"],"names":["React","Axios","useState","useEffect","useRef","Link","StudentList","ref","studentList","setStudentList","getStudents","get","then","response","data","deleteStudent","id","delete","filter","val","setTimeout","current","click","map","key","name","surname","midterm","endterm","final","gpa"],"mappings":"+MAAA,MAAO,YAAP,CAEA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CAEA,OAASC,QAAT,KAAyB,OAAzB,CACA,OAASC,SAAT,CAAoBC,MAApB,KAAkC,OAAlC,CACA,OAASC,IAAT,KAAqB,kBAArB,C,wFAGA,GAAMC,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,EAAM,CACtB,GAAMC,CAAAA,GAAG,CAAGH,MAAM,CAAC,IAAD,CAAlB,CAEA,cAAsCF,QAAQ,CAAC,EAAD,CAA9C,wCAAOM,WAAP,eAAoBC,cAApB,eAGA,GAAMC,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,EAAM,CACtBT,KAAK,CAACU,GAAN,CAAU,gCAAV,EAA4CC,IAA5C,CAAiD,SAACC,QAAD,CAAc,CAC/DJ,cAAc,CAACI,QAAQ,CAACC,IAAV,CAAd,CACC,CAFD,EAGH,CAJD,CAOA,GAAMC,CAAAA,aAAa,CAAG,QAAhBA,CAAAA,aAAgB,CAACC,EAAD,CAAQ,CAC1Bf,KAAK,CAACgB,MAAN,wCAA6CD,EAA7C,GAAmDJ,IAAnD,CAAwD,SAACC,QAAD,CAAc,CACtEJ,cAAc,CACVD,WAAW,CAACU,MAAZ,CAAmB,SAACC,GAAD,CAAS,CAC5B,MAAOA,CAAAA,GAAG,CAACH,EAAJ,GAAWA,EAAlB,CACC,CAFD,CADU,CAAd,CAKC,CAND,EAOH,CARD,CAYAb,SAAS,CAAC,UAAM,CACZiB,UAAU,CAAC,UAAM,CACjBb,GAAG,CAACc,OAAJ,CAAYC,KAAZ,GACC,CAFS,CAEP,CAFO,CAAV,CAGH,CAJQ,CAIN,EAJM,CAAT,CAQA,mBACQ,aAAK,SAAS,CAAC,kBAAf,wBACI,KAAC,IAAD,EAAM,EAAE,CAAC,GAAT,uBAAa,eAAQ,EAAE,CAAC,QAAX,oBAAb,EADJ,cAGI,wCAHJ,cAKI,sCACQ,mCACI,0BADJ,cAEI,4BAFJ,cAGI,+BAHJ,cAII,qCAJJ,cAKI,oCALJ,cAMI,6BANJ,cAOI,2BAPJ,GADR,CAWKd,WAAW,CAACe,GAAZ,CAAgB,SAACJ,GAAD,CAAMK,GAAN,CAAc,CAC3B,mBACI,mCACI,oBAAKL,GAAG,CAACH,EAAT,EADJ,cAGI,oBAAKG,GAAG,CAACM,IAAT,EAHJ,cAII,oBAAKN,GAAG,CAACO,OAAT,EAJJ,cAKI,sBAAKP,GAAG,CAACQ,OAAT,OALJ,cAMI,sBAAKR,GAAG,CAACS,OAAT,OANJ,cAOI,sBAAKT,GAAG,CAACU,KAAT,OAPJ,cAQI,oBAAKV,GAAG,CAACW,GAAT,EARJ,cAUI,iCAAI,eACA,OAAO,CAAE,kBAAM,CACff,aAAa,CAACI,GAAG,CAACH,EAAL,CAAb,CACC,CAHD,oBAAJ,EAVJ,GADJ,CAoBH,CArBA,CAXL,GALJ,cA2CQ,eAAQ,GAAG,CAAET,GAAb,CAAkB,OAAO,CAAEG,WAA3B,CAAwC,KAAK,CAAC,QAA9C,EA3CR,cA6CQ,KAAC,IAAD,EAAM,EAAE,CAAC,cAAT,uBAAwB,2CAAxB,EA7CR,GADR,CAiDH,CAlFD,CAoFA,cAAeJ,CAAAA,WAAf","sourcesContent":["import \"../App.css\";\r\n\r\nimport React from \"react\";\r\nimport Axios from \"axios\";\r\n\r\nimport { useState } from \"react\";\r\nimport { useEffect, useRef } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\n\r\nconst StudentList = () => {\r\n    const ref = useRef(null);\r\n    \r\n    const [studentList, setStudentList] = useState([]);\r\n\r\n    \r\n    const getStudents = () => {\r\n        Axios.get(\"http://localhost:3001/students\").then((response) => {\r\n        setStudentList(response.data);\r\n        });\r\n    };\r\n\r\n\r\n    const deleteStudent = (id) => {\r\n        Axios.delete(`http://localhost:3001/delete/${id}`).then((response) => {\r\n        setStudentList(\r\n            studentList.filter((val) => {\r\n            return val.id !== id;\r\n            })\r\n        );\r\n        });\r\n    };\r\n\r\n\r\n\r\n    useEffect(() => {\r\n        setTimeout(() => {\r\n        ref.current.click();\r\n        }, 0);\r\n    }, []);\r\n\r\n\r\n    \r\n    return (\r\n            <div className=\"information list\">\r\n                <Link to=\"/\"><button id=\"logout\">logout</button></Link>\r\n\r\n                <h1>List of Students</h1>\r\n\r\n                <table>\r\n                        <tr>\r\n                            <th>id</th>\r\n                            <th>Name</th>\r\n                            <th>Surname</th>\r\n                            <th>midterm(Pk-1)</th>\r\n                            <th>enterm(Pk-2)</th>\r\n                            <th>final</th>\r\n                            <th>gpa</th>                                                   \r\n                        </tr>\r\n                        \r\n                    {studentList.map((val, key) => {\r\n                        return (      \r\n                            <tr>\r\n                                <td>{val.id}</td>\r\n\r\n                                <td>{val.name}</td>\r\n                                <td>{val.surname}</td>\r\n                                <td>{val.midterm}%</td>\r\n                                <td>{val.endterm}%</td>\r\n                                <td>{val.final}%</td>\r\n                                <td>{val.gpa}</td>\r\n\r\n                                <td><button \r\n                                    onClick={() => {\r\n                                    deleteStudent(val.id);\r\n                                    }}>\r\n                                        Delete\r\n                                    </button>\r\n                                </td>\r\n                            </tr>\r\n                        );\r\n                    })}\r\n\r\n                </table>\r\n\r\n\r\n\r\n                    <button ref={ref} onClick={getStudents} class=\"hidden\"></button>\r\n\r\n                    <Link to=\"/add-student\"><button>Add new Student</button></Link>\r\n            </div>\r\n    );\r\n}\r\n\r\nexport default StudentList;\r\n\r\n\r\n\r\n\r\n"]},"metadata":{},"sourceType":"module"}